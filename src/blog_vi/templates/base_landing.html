<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>{{ settings.blog_name }}</title>
  <meta name="author" content="{{ settings.meta.author }}">
  <meta name="description" content="{{ settings.meta.description }}">
  <meta name="keywords"
        content="{{ settings.meta.keywords }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
        crossorigin="anonymous"/>
  <link href="https://fonts.googleapis.com/css?family=Nunito:400,700,800" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
  <link rel="manifest" href="../site.webmanifest">
  <link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#00aba9">
  <meta name="theme-color" content="#3b7977">

  <!-- Primary Meta Tags -->
  <title>{{ settings.meta.title or settings.blog_name }}</title>
  <meta name="title" content="{{ settings.meta.title or settings.blog_name }}">
  <meta name="description"
        content="{{ settings.meta.description }}">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ settings.meta.url }}">
  <meta property="og:title" content="{{ settings.meta.title or settings.blog_name }}">
  <meta property="og:description"
        content="{{ settings.meta.description }}">
  <meta property="og:image" content="{{ settings.meta.image }}">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="{{ settings.meta.url }}">
  <meta property="twitter:title" content="{{ settings.meta.title or settings.blog_name }}">
  <meta property="twitter:description"
        content="{{ settings.meta.description }}">
  <meta property="twitter:image" content="{{ settings.meta.image }}">


  <link href="templates/css/tailwind.min.css" rel="stylesheet">

</head>

<body class="bg-gray-100 font-sans leading-normal tracking-normal">

<nav id="header" class="fixed w-full z-10 top-0">

  <div id="progress" class="h-1 z-20 top-0"
       style="background:linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0);"></div>

  <div class="container max-w-6xl mx-auto flex flex-wrap items-center justify-between mt-0 py-3">

    <div class="pl-4">
      <a class="text-gray-900 text-base no-underline hover:no-underline font-extrabold text-xl" href="index.html">
          {{ settings.blog_name }}
      </a>
    </div>

    <div class="block lg:hidden pr-4">
      <button id="nav-toggle"
              class="flex items-center px-3 py-2 border rounded text-gray-500 border-gray-600 hover:text-gray-900 hover:border-green-500 appearance-none focus:outline-none">
        <svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
          <title>Menu</title>
          <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/>
        </svg>
      </button>
    </div>

    <div class="w-full flex-grow lg:flex lg:items-center lg:w-auto hidden lg:block mt-2 lg:mt-0 bg-gray-100 z-20"
         id="nav-content">
      <ul class="list-reset lg:flex justify-end flex-1 items-center">
          {% for link in settings.link_menu %}
          <li class="mr-3">
            <a class="inline-block text-gray-600 hover:text-gray-900 hover:underline py-2 px-4"
               href="{{ link.link }}">{{ link.text }}</a>
          </li>
          {% endfor %}
        <li class="mr-3">
          <a class="inline-block py-2 px-4"
             href="rss.xml"><i class="fas fa-rss" style="color: orangered"></i></a>
        </li>
        <li class="mr-3 relative">
          <input type="search" placeholder="Search blog"
                 class="border rounded inline-block py-2 px-4"
                 id="search">
          <div
            class="origin-top-right absolute right-0 mt-2 rounded-md shadow-lg bg-white border border-gray-300 focus:outline-none"
            id="search-bar"
            style="width: 300px; display: none; position: absolute">
            <ul class="py-2" style="width: 300px">

            </ul>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!--Container-->
<div class="container px-4 md:px-0 max-w-6xl mx-auto mt-24">

  <div class="mx-0 sm:mx-6">

    <!--Nav-->
    <nav class="mt-0 w-full">
      <ul class="list-reset w-full flex flex-wrap flex-1 md:flex-none">
        <li class="mr-2">
          <a class="rounded bg-green-500 text-white px-1 uppercase text-xs whitespace-nowrap md:text-sm"
              href="index.html">ALL</a>
        </li>
        {% for category in categories %}
        <li class="mr-2">
          <a class="rounded bg-green-500 text-white px-1 uppercase text-xs whitespace-nowrap md:text-sm"
              href="{{ category.1 }}">{{ category.0 }}</a>
        </li>
        {% endfor %}
      </ul>

      <div class="flex w-full justify-end content-center">
        <a
          class="inline-block text-gray-500 no-underline hover:text-green-500 hover:text-underline text-center h-10 p-2 md:h-auto md:p-4 avatar"
          data-tippy-content="@twitter_handle" href="https://twitter.com/intent/tweet?url=#"
          id="twitter">
          <svg class="fill-current h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
            <path
              d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path>
          </svg>
        </a>
        <a
          class="inline-block text-gray-500 no-underline hover:text-green-500 hover:text-underline text-center h-10 p-2 md:h-auto md:p-4 avatar"
          data-tippy-content="#facebook_id" href="https://www.facebook.com/sharer/sharer.php?u=#}"
          id="facebook">
          <svg class="fill-current h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
            <path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path>
          </svg>
        </a>
      </div>
    </nav>

    <div class="w-full text-xl md:text-2xl text-gray-800 leading-normal rounded-t">

      <!--Lead Card-->
      <div class="flex h-full bg-white rounded overflow-hidden ">
        <a href="{{ head_blog.path }}" class="flex flex-wrap no-underline hover:no-underline">
          <div class="w-full md:w-2/3 rounded-t">
            <img src="{{head_blog.header_image}}" class="h-full w-full shadow object-cover">
          </div>

          <div class="w-full md:w-1/3 flex flex-col flex-grow flex-shrink">
            <div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden ">
              <p class="w-full text-gray-600 text-xs md:text-sm pt-6 px-6">GETTING STARTED</p>
              <div class="w-full font-bold text-xl text-gray-900 px-6">{{head_blog.title}}
              </div>
              <p class="text-gray-800 font-serif text-base px-6 mb-5">
                {{ head_blog.summary }}
              </p>
            </div>

            <div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden  p-6">
              <div class="flex items-center justify-between">
                <img class="w-8 h-8 rounded-full mr-4 avatar" data-tippy-content="{{ head_blog.author_name }}"
                     src="{{ head_blog.author_image }}" alt="{{ head_blog.author_name }}">
                <p class="text-gray-600 text-xs md:text-sm">
                  {% for ctg in head_blog.categories%}
                  {{ ctg }}
                  {% endfor %}
                </p>
              </div>
            </div>
          </div>

        </a>
      </div>
      <!--/Lead Card-->
      <!--      {{ searchConfig }}-->

      <!--Posts Container-->
      <div class="flex flex-wrap justify-between pt-12 -mx-6">
        {% for blog in blogs %}
        <!--1/3 col -->
        <div class="w-full md:w-1/3 p-6 flex flex-col flex-shrink">
          <div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden ">
            <a href="{{ blog.path }}" class="flex flex-wrap no-underline hover:no-underline">
              <img data-src="{{ blog.header_image }}" class="h-64 w-full rounded-t pb-6 object-cover">
              <p class="w-full text-gray-600 text-xs md:text-sm px-6">GETTING STARTED</p>
              <div class="w-full font-bold text-xl text-gray-900 px-6">{{ blog.title }}</div>
              <p class="text-gray-800 font-serif text-base px-6 mb-5">
                {{ blog.summary }}
              </p>
            </a>
          </div>
          <div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden  p-6">
            <div class="flex items-center justify-between">
              <img class="w-8 h-8 rounded-full mr-4 avatar" data-tippy-content="{{ blog.author_name }}"
                   data-src="{{ blog.author_image }}" alt="{{ blog.author_name }}">

              <p class="text-gray-600 text-xs md:text-sm">
                by {{ blog.author_name }} on {{ blog.publish_date }} in

                {% for category in blog.categories %}
                <!-- TODO: category item styling -->
                {{ category }}
                {% endfor %}
              </p>
            </div>
          </div>
        </div>

        {% endfor %}

      </div>

    </div>
    <!--/ Post Content-->

  </div>

  <!--Subscribe-->
  <div class="container font-sans bg-white rounded mt-8 p-4 md:p-24 text-center mb-10">
    <h2 class="font-bold break-normal text-2xl md:text-4xl">{{ settings.subscribe.title }}</h2>
    <h3 class="font-bold break-normal font-normal text-gray-600 text-base md:text-xl">{{ settings.subscribe.summary }}</h3>
    <div class="w-full text-center pt-4">
      <form action="#">
        <div class="max-w-xl mx-auto p-1 pr-0 flex flex-wrap items-center">
          <input type="email" placeholder="youremail@example.com"
                 class="flex-1 appearance-none rounded shadow p-3 text-gray-600 mr-2 focus:outline-none">
          <button type="submit"
                  class="flex-1 mt-4 md:mt-0 block md:inline-block appearance-none bg-green-500 text-white text-base font-semibold tracking-wider uppercase py-4 rounded shadow hover:bg-green-400">
              {{ settings.subscribe.button_text }}
          </button>
        </div>
      </form>
    </div>
  </div>
  <!-- /Subscribe-->

</div>


</div>


<footer class="bg-gray-900">
  <div class="container max-w-6xl mx-auto flex items-center px-2 py-8">

    <div class="w-full mx-auto flex flex-wrap items-center">
      <div class="flex w-full md:w-1/2 justify-center md:justify-start text-white font-extrabold flex-col">
        <a class="text-gray-900 no-underline hover:text-gray-900 hover:no-underline" href="#">
          <span class="text-base text-gray-200">{{ settings.blog_name }}</span>
        </a>
        <a class="text-gray-900 no-underline hover:text-gray-900 hover:no-underline"
           href="https://github.com/LikaloLLC/BlogVi" target="_blank">
          <span class="text-xs text-gray-200">Made with BlogVI</span>
        </a>
      </div>
      <div class="flex w-full pt-2 content-center justify-between md:w-1/2 md:justify-end">
        <ul class="list-reset flex justify-center flex-1 md:flex-none items-center">
          {% for link in settings.link_menu %}
            <li>
              <a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:text-underline py-2 px-3"
                 href="{{ link.link }}">{{ link.text }}</a>
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>


  </div>
</footer>

<script src="https://unpkg.com/popper.js@1/dist/umd/popper.min.js"></script>
<script src="https://unpkg.com/tippy.js@4"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6"></script>
<script src="templates/js/search.js"></script>

<script>    /* Progress bar */
//Source: https://alligator.io/js/progress-bar-javascript-css-variables/
var h = document.documentElement,
  b = document.body,
  st = 'scrollTop',
  sh = 'scrollHeight',
  progress = document.querySelector('#progress'),
  scroll;
var scrollpos = window.scrollY;
var header = document.getElementById("header");
var navcontent = document.getElementById("nav-content");

document.addEventListener('scroll', function () {

  /*Refresh scroll % width*/
  scroll = (h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight) * 100;
  progress.style.setProperty('--scroll', scroll + '%');

  /*Apply classes for slide in bar*/
  scrollpos = window.scrollY;

  if (scrollpos > 10) {
    header.classList.add("bg-white");
    header.classList.add("shadow");
    navcontent.classList.remove("bg-gray-100");
    navcontent.classList.add("bg-white");
  } else {
    header.classList.remove("bg-white");
    header.classList.remove("shadow");
    navcontent.classList.remove("bg-white");
    navcontent.classList.add("bg-gray-100");

  }

});


//Javascript to toggle the menu
document.getElementById('nav-toggle').onclick = function () {
  document.getElementById("nav-content").classList.toggle("hidden");
}
//Init tooltips
tippy('.avatar')
</script>
<!--<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.3.1/dist/lazyload.min.js"></script>-->

<!--Search script-->
<script>
  const images = document.querySelectorAll("[data-src]");

  // change data-src to src
  function preloadImage(img) {
    const src = img.getAttribute("data-src");
    if (!src) {
      return;
    }
    img.src = src;
  }

  // load image
  const imgObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (!entry.isIntersecting) {

      } else {
        preloadImage(entry.target);
      }
    })
  });

  images.forEach(image => {
    imgObserver.observe(image);
  })

</script>

<script type="text/javascript">window["searchConfig"] = {{ searchConfig }}</script>
<script>
  /*
    Twitter
    https://twitter.com/share?url=[post-url]&text=[post-title]

    Facebook
    https://www.facebook.com/sharer.php?u=[post-url]

  */
  let twitterURI = document.getElementById('twitter');
  let facebookURI = document.getElementById('facebook');

  let postURI = encodeURI(document.location.href);
  let postTitle = encodeURI("Hi everyone you can share this post: ")

  facebookURI.setAttribute('href', `https://www.facebook.com/sharer.php?u=${postURI}`);
  twitterURI.setAttribute('href', `https://twitter.com/share?url=${postURI}&text=${postTitle}`);

</script>

<!--Sharect-->
{% if settings.sharect.enabled %}
<script src="https://unpkg.com/sharect@2.0.0/dist/sharect.js"></script>
<script>window["sharectConfig"] = {{ settings.sharect|tojson|safe }}</script>
<script src="templates/js/sharect.js"></script>
{% endif %}

</body>

</html>
